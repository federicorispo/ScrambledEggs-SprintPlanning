(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n.p+"static/media/egg.cee197da.png"},29:function(e,t,n){},32:function(e,t,n){e.exports=n(50)},37:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),o=n.n(c),i=(n(37),n(23)),l=n(8),u=n(9),s=n(12),m=n(13),p=n(15),f=n(14),d=n(16),g=n(10),E=n.n(g),v=n(2),h=(n(29),n(25)),y=n.n(h);function O(e){return r.a.createElement("div",{className:"heading"},r.a.createElement("img",{src:y.a,alt:"egg"}),r.a.createElement("div",null,r.a.createElement("h1",null,e.teamName),r.a.createElement("h2",null,"Sprint Planning")),r.a.createElement("img",{src:y.a,alt:"egg"}))}n(47),n(48);var b=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._onChangeD=function(e){var t=e.target.value?parseFloat(e.target.value):parseFloat(0);0<=t&&n.props.setDays(n.props.id,t)},n._onChangeH=function(e){var t=e.target.value?parseFloat(e.target.value):parseFloat(0);0<=t&&n.props.setHours(n.props.id,t)},n._onChangeEff=function(e){var t=e.target.value?parseFloat(e.target.value):parseFloat(0);0<=t&&t<=100&&n.props.setEfficiency(n.props.id,t)},n._onMinusClick=function(){n.props.deleteMate(n.props.id)},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mate,n=e.edit;return r.a.createElement("div",{className:"teammate"},r.a.createElement("div",{className:"column"},n&&r.a.createElement(E.a,{iconName:"times",className:"minus",onClick:this._onMinusClick}),t.name),r.a.createElement("div",{className:"column"},r.a.createElement("input",{type:"number",value:t.d,min:0,max:100,onChange:this._onChangeD}),r.a.createElement("span",null,"d"),r.a.createElement("input",{type:"number",value:t.h,min:0,max:100,onChange:this._onChangeH}),r.a.createElement("span",null,"h")),r.a.createElement("div",{className:"column"},r.a.createElement("input",{type:"number",value:t.efficiency,min:0,max:100,onChange:this._onChangeEff}),r.a.createElement("span",null,"%")))}}]),t}(r.a.Component),j=Object(l.b)(function(e,t){return{mate:e.mates[t.id]}},function(e){return{setDays:function(t,n){return e(function(e,t){return{type:"SET_DAYS",id:e,days:t}}(t,n))},setHours:function(t,n){return e(function(e,t){return{type:"SET_HOURS",id:e,hours:t}}(t,n))},setEfficiency:function(t,n){return e(function(e,t){return{type:"SET_EFFICIENCY",id:e,efficiency:t}}(t,n))},deleteMate:function(t){return e(function(e){return{type:"DELETE_MATE",id:e}}(t))}}})(b);function N(e,t,n){var a=0;return Object(v.forEach)(t,function(t){if(e[t]){var n=e[t],r=(n.h+8*n.d)*n.efficiency/100;a+=r}}),a*(100-n)/100}var _=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).inputRef=r.a.createRef(),n.state={editMode:!1},n._onChangeEmergency=function(e){var t=e.target.value?parseFloat(e.target.value):parseFloat(0);0<=t&&t<=100&&n.props.setEmergency(n.props.groupId,t)},n._editMode=function(){n.setState(function(e){return{editMode:!e.editMode}})},n._onKeyDown=function(e){"Enter"===e.key&&n._onPlusClick()},n._onPlusClick=function(){for(var e=n.inputRef.current.value.toLocaleLowerCase();Object(v.find)(n.props.allMates,function(t,n){return n===e});)e+="_";n.props.addMate(e,n.inputRef.current.value,n.props.groupId),n.inputRef.current.value=""},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.editMode,n=e.inputName,a=this.props,c=a.mates,o=a.name,i=a.emergency,l=a.allMates,u=[];Object(v.forEach)(c,function(e){Object(v.find)(l,function(t,n){return n===e})&&u.push(r.a.createElement(j,{key:e,id:e,edit:t}))});var s=N(l,c,i);return r.a.createElement("div",{className:"hoursPlanning"},r.a.createElement("div",{className:"title-end"},r.a.createElement("h3",null,o),r.a.createElement(E.a,{iconName:"pencil-alt",className:"icon",onClick:this._editMode})),r.a.createElement("div",{className:"tableHeader"},r.a.createElement("span",{className:"column name"},"Nome"),r.a.createElement("span",{className:"column"},"Ore lavorative"),r.a.createElement("span",{className:"column"},"Efficienza"),r.a.createElement("span",{className:"column"},"Emergenza")),r.a.createElement("div",{className:"tableContent"},r.a.createElement("div",{className:"team"},u),r.a.createElement("div",{className:"column emergency"},r.a.createElement("span",null,"-"),r.a.createElement("input",{type:"number",value:i,min:0,max:100,onChange:this._onChangeEmergency}),r.a.createElement("span",null,"%"))),t&&r.a.createElement("div",{className:"add"},r.a.createElement(E.a,{iconName:"plus-circle",className:"plus",onClick:this._onPlusClick}),r.a.createElement("input",{type:"text",value:n,ref:this.inputRef,onKeyDown:this._onKeyDown})),r.a.createElement("div",{className:"total"},r.a.createElement("p",null,"Totale: ",parseInt(s)," h")))}}]),t}(r.a.Component),w=Object(l.b)(function(e,t){return{allMates:e.mates,name:e.groups[t.groupId].name,mates:e.groups[t.groupId].mates,emergency:e.groups[t.groupId].emergency}},function(e){return{setEmergency:function(t,n){return e(function(e,t){return{type:"SET_EMERGENCY",groupId:e,emergency:t}}(t,n))},addMate:function(t,n,a){return e(function(e,t,n){return{type:"ADD_MATE",id:e,name:t,groupId:n}}(t,n,a))}}})(_),D=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).fileRef=r.a.createRef(),n.state={fileJSON:null},n.fileReader=new FileReader,n._importClick=function(){n.fileRef.current.click()},n._onChangeFile=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files[0];n.fileReader.readAsText(t)},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fileReader.onload=function(t){try{var n=JSON.parse(t.target.result);e.setState(function(){return{fileJSON:n}})}catch(a){console.error(a)}},this.fileReader.onerror=function(e){console.error(e)}}},{key:"componentWillUpdate",value:function(e,t,n){if(this.state.fileJSON!==t.fileJSON)if(t.fileJSON.hasOwnProperty("people")){var a=function(e){var t={teamName:e.teamName||"DreamTeam",date:e.date||Date.now()},n=e.people,a={};if(e.hasOwnProperty("groups"))a=e.groups;else{var r=[];Object(v.forEach)(n,function(e,t){return r.push(t)}),a={group1:{name:e.teamName||"Team",mates:r,emergency:0}}}return{info:t,groups:a,mates:n}}(t.fileJSON),r=a.info,c=a.groups,o=a.mates;this.props.setTeam(r,c,o)}else console.error("Invalid json")}},{key:"render",value:function(){var e=this.props,t=e.teamName,n=e.groups,c=e.mates,o=Object(v.map)(n,function(e,t){return r.a.createElement(w,{groupId:t,key:t})}),i=0;return Object(v.forEach)(n,function(e){i+=N(c,e.mates,e.emergency)}),r.a.createElement("div",{className:"page"},r.a.createElement(O,{teamName:t}),r.a.createElement(E.a,{iconName:"upload",className:"uploadIcon",onClick:this._importClick}),r.a.createElement("input",{type:"file",accept:".json",ref:this.fileRef,style:{display:"none"},onChange:this._onChangeFile}),r.a.createElement("div",{className:"sprintPlanning"},r.a.createElement(a.Fragment,null,o),r.a.createElement("div",{className:"recap"},"Totale: ",parseInt(i)," h")))}}]),t}(r.a.Component),S=Object(l.b)(function(e){return{teamName:e.info.teamName,mates:e.mates,groups:e.groups}},function(e){return{setTeam:function(t,n,a){return e(function(e,t,n){return{type:"SET_TEAM",info:e,groups:t,mates:n}}(t,n,a))}}})(D),C={MAIN:"/ScrambledEggs-SprintPlanning/"};var T=function(){return[r.a.createElement(u.a,{path:C.MAIN,exact:!0,component:S,key:"homepage"})]},P=n(18),k=n(6);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){Object(k.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEAM":return I({},t.mates);case"SET_DAYS":var n=I({},e[t.id]);return n.d=t.days,I({},e,Object(k.a)({},t.id,n));case"SET_HOURS":var a=I({},e[t.id]);return a.h=t.hours,I({},e,Object(k.a)({},t.id,a));case"SET_EFFICIENCY":var r=I({},e[t.id]);return r.efficiency=t.efficiency,I({},e,Object(k.a)({},t.id,r));case"ADD_MATE":var c=I({},e);return c[t.id]={name:t.name,d:0,h:0,efficiency:100},I({},c);case"DELETE_MATE":var o=I({},e);return delete o[t.id],I({},o);default:return e}};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEAM":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach(function(t){Object(k.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t.info);default:return e}};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach(function(t){Object(k.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEAM":return J({},t.groups);case"SET_EMERGENCY":var n=J({},e[t.groupId]);return n.emergency=t.emergency,J({},e,Object(k.a)({},t.groupId,n));case"ADD_MATE":var a=J({},e[t.groupId]);return a.mates.push(t.id),J({},e,Object(k.a)({},t.groupId,a));case"DELETE_MATE":var r=J({},e);return Object(v.forEach)(r,function(e,n){Object(v.remove)(e.mates,function(e){return e===t.id}),0===e.mates.length&&delete r[n]}),J({},r);default:return e}};var H={info:{teamName:"Scrambled Eggs",data:Date.now()},mates:{cataldo:{name:"Cataldo",d:10,h:0,efficiency:100},lisa:{name:"Lisa",d:6,h:0,efficiency:100},dennis:{name:"Dennis",d:10,h:0,efficiency:100},davide:{name:"Davide P.",d:10,h:0,efficiency:100},alberto:{name:"Alberto",d:10,h:0,efficiency:100}},groups:{frontend:{name:"Front-end",mates:["cataldo","lisa","dennis"],emergency:20},backend:{name:"Back-end",mates:["davide","alberto"],emergency:20}}};H.info.total=function(e,t){var n=0;return Object(v.forEach)(e,function(e){var t=e.h+8*e.d*e.efficiency/100;n+=t}),n*(100-t)/100}(H.mates,H.emergency);var Y=H;var U=function(){var e=function(){var e=Object(P.b)({info:F,mates:A,groups:L});return Object(P.c)(e,Y,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}();return r.a.createElement(l.a,{store:e},r.a.createElement(i.a,null,r.a.createElement(T,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.e3abe58c.chunk.js.map