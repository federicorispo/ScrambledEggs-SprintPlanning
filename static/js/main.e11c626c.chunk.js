(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},24:function(e,t,a){e.exports=a.p+"static/media/bacon1.cd220d7d.png"},25:function(e,t,a){e.exports=a.p+"static/media/bacon2.0a593846.png"},28:function(e,t,a){e.exports=a(39)},33:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(23),o=a.n(i),r=(a(33),a(17)),l=a(8),s=a(6),u=a(7),m=a(11),p=a(10),h=a(12),f=(a(14),a(24)),d=a.n(f),b=a(25),v=a.n(b);function y(){return c.a.createElement("div",{className:"heading"},c.a.createElement("img",{src:d.a,alt:"bacon"}),c.a.createElement("div",null,c.a.createElement("h1",null,"New Bacon Monster"),c.a.createElement("h2",null,"Sprint Planning")),c.a.createElement("img",{src:v.a,alt:"bacon"}))}var E=a(5),g=a(18),k=a(41);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var _=function(){function e(t){Object(s.a)(this,e),this.team=new k.a(t),this._team=t,this.total=new k.a(0),this.emergency=new k.a(20),this.calculateTotal()}return Object(u.a)(e,[{key:"addMate",value:function(e,t){""!==t.name&&(this._team[e]=t,this.team.next(this._team),this.calculateTotal())}},{key:"deleteMate",value:function(e){delete this._team[e],this.team.next(this._team),this.calculateTotal()}},{key:"changeValue",value:function(e,t,a){var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},this._team[e],Object(g.a)({},t,a));this._team[e]=n,this.team.next(this._team),this.calculateTotal()}},{key:"changeEmergency",value:function(e){this.emergency.next(e),this.calculateTotal()}},{key:"calculateTotal",value:function(){var e=this,t=0;Object(E.forEach)(this._team,function(a){var n=(8*a.d+a.h)/100*a.efficiency/100*(100-e.emergency.getValue());t+=n}),this.total.next(t)}}]),e}(),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c))))._onChangeD=function(e){var t=e.target.value?parseFloat(e.target.value):parseFloat(0);0<=t&&a.props.dataBlock.changeValue(a.props.mateKey,"d",t)},a._onChangeH=function(e){var t=e.target.value?parseFloat(e.target.value):parseFloat(0);0<=t&&a.props.dataBlock.changeValue(a.props.mateKey,"h",t)},a._onChangeEff=function(e){var t=e.target.value?parseFloat(e.target.value):parseFloat(0);0<=t&&t<=100&&a.props.dataBlock.changeValue(a.props.mateKey,"efficiency",t)},a._onMinusClick=function(){a.props.dataBlock.deleteMate(a.props.mateKey)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mate,a=e.edit;return c.a.createElement("div",{className:"teammate"},c.a.createElement("div",{className:"column"},a&&c.a.createElement("div",{className:"minus"},c.a.createElement("i",{className:"fas fa-times icon",onClick:this._onMinusClick})),t.name),c.a.createElement("div",{className:"column"},c.a.createElement("input",{type:"number",value:t.d,min:0,max:100,onChange:this._onChangeD}),c.a.createElement("span",null,"d"),c.a.createElement("input",{type:"number",value:t.h,min:0,max:100,onChange:this._onChangeH}),c.a.createElement("span",null,"h")),c.a.createElement("div",{className:"column"},c.a.createElement("input",{type:"number",value:t.efficiency,min:0,max:100,onChange:this._onChangeEff}),c.a.createElement("span",null,"%")))}}]),t}(c.a.Component),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).calcNewKey=function(e){return Object(E.max)(Object(E.keys)(e))+1},a._onChangeEmergency=function(e){var t=e.target.value?parseFloat(e.target.value):parseFloat(0);0<=t&&t<=100&&a.props.dataBlock.changeEmergency(t)},a._editMode=function(){a.setState(function(e){return{editMode:!e.editMode}})},a._onChangeInput=function(e){e.persist(),a.setState(function(){return{inputName:e.target.value}})},a._onKeyDown=function(e){"Enter"===e.key&&a._onPlusClick()},a._onPlusClick=function(){a.props.dataBlock.addMate(a.newKey,{name:a.state.inputName,d:0,h:0,efficiency:100}),a.setState(function(){return{inputName:""}})},a.state={team:{},total:0,emergency:0,editMode:!1,inputName:""},a._subscriptions=[],a.newKey=0,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._subscriptions.push(this.props.dataBlock.team.subscribe(function(t){e.setState(function(){return{team:t}}),e.newKey=e.calcNewKey(t)})),this._subscriptions.push(this.props.dataBlock.total.subscribe(function(t){e.setState(function(){return{total:t}})})),this._subscriptions.push(this.props.dataBlock.emergency.subscribe(function(t){e.setState(function(){return{emergency:t}})}))}},{key:"componentWillUnmount",value:function(){Object(E.forEach)(this._subscriptions,function(e){e.unsubscribe()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.team,n=t.editMode,i=t.inputName,o=t.emergency,r=t.total,l=[];return Object(E.forEach)(a,function(t,a){l.push(c.a.createElement(N,{key:a,mateKey:a,mate:t,dataBlock:e.props.dataBlock,edit:n}))}),c.a.createElement("div",{className:"hoursPlanning"},c.a.createElement("div",{className:"title-end"},c.a.createElement("h3",null,this.props.title),c.a.createElement("i",{className:"fas fa-pencil-alt icon",onClick:this._editMode})),c.a.createElement("div",{className:"tableHeader"},c.a.createElement("span",{className:"column name"},"Nome"),c.a.createElement("span",{className:"column"},"Ore lavorative"),c.a.createElement("span",{className:"column"},"Efficienza"),c.a.createElement("span",{className:"column"},"Emergenza")),c.a.createElement("div",{className:"tableContent"},c.a.createElement("div",{className:"team"},l),c.a.createElement("div",{className:"column emergency"},c.a.createElement("span",null,"-"),c.a.createElement("input",{type:"number",value:o,min:0,max:100,onChange:this._onChangeEmergency}),c.a.createElement("span",null,"%"))),n&&c.a.createElement("div",{className:"add"},c.a.createElement("i",{className:"fas fa-plus-circle plus",onClick:this._onPlusClick}),c.a.createElement("input",{type:"text",value:i,onChange:this._onChangeInput,onKeyDown:this._onKeyDown})),c.a.createElement("div",{className:"total"},c.a.createElement("p",null,"Totale: ",parseInt(r))))}}]),t}(c.a.Component),w=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={totalF:0,totalB:0};return a.frontEndTeamBlock=new _({0:{name:"Cataldo",d:10,h:0,efficiency:70},1:{name:"Lisa",d:6,h:0,efficiency:80},2:{name:"Dennis",d:10,h:0,efficiency:80}}),a.backEndTeamBlock=new _({0:{name:"Davide B.",d:10,h:0,efficiency:70},1:{name:"Davide P.",d:10,h:0,efficiency:80},2:{name:"Alberto",d:10,h:0,efficiency:30}}),a._subscriptions=[],a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._subscriptions.push(this.frontEndTeamBlock.total.subscribe(function(t){e.setState(function(){return{totalF:t}})})),this._subscriptions.push(this.backEndTeamBlock.total.subscribe(function(t){e.setState(function(){return{totalB:t}})}))}},{key:"componentWillUnmount",value:function(){Object(E.forEach)(this._subscriptions,function(e){e.unsubscribe()})}},{key:"render",value:function(){return c.a.createElement("div",{className:"page"},c.a.createElement(y,null),c.a.createElement("div",{className:"sprintPlanning"},c.a.createElement(j,{title:"Front-end",dataBlock:this.frontEndTeamBlock}),c.a.createElement(j,{title:"Back-end",dataBlock:this.backEndTeamBlock}),c.a.createElement("div",{className:"recap"},"Totale: ",parseInt(this.state.totalF)+parseInt(this.state.totalB)," h")))}}]),t}(c.a.Component),B={MAIN:"/NewBaconMonster-SprintPlanning/"};var C=function(){return[c.a.createElement(l.a,{path:B.MAIN,exact:!0,component:w,key:"homepage"})]};var M=function(){return c.a.createElement(r.a,null,c.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.e11c626c.chunk.js.map